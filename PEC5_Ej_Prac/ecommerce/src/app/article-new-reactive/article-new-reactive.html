<div class="container w-25 mt-4">
  <h2 class="title mb-4">Crea un artículo</h2>

  <div class="alert alert-danger" *ngIf="message && form.invalid">{{ message }}</div>

  <form class="form" (ngSubmit)="createArticle()" [formGroup]="form">
    <div>
      <div class="form-group mb-3">
        <label for="name" class="form-label">Nombre</label>
        <input class="form-control mb-2" type="text" id="name" placeholder="Ej: Camiseta" formControlName="name">

        <div class="text-danger small mt-1"
          *ngIf="form.get('name')?.invalid && (form.get('name')?.touched || submitted)">
          <div *ngIf="form.get('name')?.errors?.['required']">El nombre del artículo es obligatorio.</div>
          <div *ngIf="form.get('name')?.errors?.['nameArticleValidator']">El nombre del artículo no es válido.</div>
        </div>
      </div>

      <div class="form-group mb-3">
        <label for="price" class="form-label">Precio</label>
        <input class="form-control mb-2" type="number" step="0.1" id="price" placeholder="Ej: 29.99" formControlName="price">

        <div class="text-danger small mt-1"
          *ngIf="form.get('price')?.invalid && (form.get('price')?.touched || submitted)">
          <span *ngIf="form.get('price')?.errors?.['required']">El precio es obligatorio.</span>
          <span *ngIf="form.get('price')?.errors?.['min']">El precio debe ser mínimo 0,1€.</span>
        </div>
      </div>

      <div class="form-group mb-3">
        <label for="imageUrl" class="form-label">URL de la imagen</label>
        <input class="form-control mb-2" type="text" id="imageUrl" placeholder="Ej: https://www.direccion-com/imagen.jpg"
          formControlName="imageUrl">

        <div class="text-danger small mt-1"
          *ngIf="form.get('imageUrl')?.invalid && (form.get('imageUrl')?.touched || submitted)">
          <div *ngIf="form.get('imageUrl')?.errors?.['required']">La URL de la imagen es obligatoria.</div>
          <div *ngIf="form.get('imageUrl')?.errors?.['pattern']">La URL introducida no tiene un formato válido.</div>
        </div>
      </div>

      <div class="form-check mb-4">
        <input class="form-check-input" type="checkbox" id="isOnSale" formControlName="isOnSale">
        <label class="form-check-label" for="isOnSale">En venta</label>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Crear artículo</button>
    </div>
  </form>
</div>